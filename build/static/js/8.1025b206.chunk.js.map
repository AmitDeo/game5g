{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","store/actions/quizBuilder.js","axios.js","components/UI/Button/Button.js","components/UI/Button/Button.module.scss","components/Modal/Modal.module.scss","components/Backdrop/Backdrop.module.scss","containers/ResultScreen/ResultScreen.module.scss","components/Backdrop/Backdrop.js","components/Modal/Modal.js","containers/ResultScreen/ResultScreen.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","fetchQuestions","dispatch","type","actionTypes","axios","get","then","res","questions","fetchedQuestions","key","data","id","isAnswered","isAdvAnswered","userAnswer","userAdvAnswer","isCelebrated","catch","error","advancedMode","getQuestion","nxtQsn","getQuesn","startGame","incrementAttempt","isMissed","currentQuestion","missed","incAttmpt","incrementAdvAttempt","is_correct","incAdvAttmpt","finishGame","restartGame","updateSwipe","swipeObj","updateSwipeFunc","instance","create","baseURL","button","props","className","classes","Button","btnType","join","onClick","clicked","disabled","children","module","exports","backdrop","show","Backdrop","React","memo","Aux","modalClosed","Modal","style","transform","opacity","prevProps","nextProps","ResultScreen","useState","ModeChanger","switchClass","setSwitchClass","useDispatch","congratsText","setCongratsText","showVid","setShowVid","videoContent","setVideoContent","starttime","useSelector","state","quizBuilder","endtime","isAdvanced","onGameFinish","useCallback","quizBuilderActions","useEffect","On","percentage","showPopup","event","videoUrl","preventDefault","isIE","IEScreen","minsecTextFormat","Math","floor","Invisible","quizActions","LastBtn","history","pathname","src","allow","allowFullScreen","IframeClass","frameBorder"],"mappings":"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","file":"static/js/8.1025b206.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import * as actionTypes from './actionTypes';\nimport axios from '../../axios';\n\n\nexport const fetchQuestionsSuccess = (questions) => {\n\treturn {\n\t\ttype: actionTypes.FETCH_QUESTIONS_SUCCESS,\n\t\tquestions: questions\n\t}\n}\n\nexport const fetchQuestionsFail = (error) => {\n\treturn {\n\t\ttype: actionTypes.FETCH_QUESTIONS_FAIL,\n\t\terror: error\n\t}\n}\n\n\nexport const fetchQuestionsStart = () => {\n\treturn {\n\t\ttype: actionTypes.FETCH_QUESTIONS_START\n\t}\n}\n\n\nexport const fetchQuestions = () => {\n\treturn dispatch => {\n\t\tdispatch(fetchQuestionsStart());\n\t\taxios.get('questions')\n\t\t .then(res => {\n\t\t \t\tconst fetchedQuestions = [];\n\t\t \t\tfor ( let key in res.data.data) {\n\t\t \t\t\tfetchedQuestions.push({\n\t\t \t\t\t\t...res.data.data[key],\n\t\t \t\t\t\tid: key,\n\t\t \t\t\t\tisAnswered: false,\n\t\t \t\t\t\tisAdvAnswered: false,\n\t\t \t\t\t\tuserAnswer: null,\n\t\t \t\t\t\tuserAdvAnswer: null,\n\t\t \t\t\t\tisCelebrated: false\n\t\t \t\t\t});\n\t\t \t\t}\n\t\t \t\tdispatch(fetchQuestionsSuccess(fetchedQuestions));\n\t\t })\n\t\t .catch(err => {\n\t\t \tdispatch(fetchQuestionsFail(err))\n\t\t });\n\t}\n}\n\n\nexport const turnAdvancedMode = () => {\n\treturn {\n\t\ttype: actionTypes.TOGGLE_ADVANCED\n\t}\n}\n\n\nexport const advancedMode = () => {\n\treturn dispatch => {\n\t\tdispatch(turnAdvancedMode());\n\t}\n}\n\n\nexport const getQuesn = (nxtQsn) => {\n\treturn {\n\t\ttype: actionTypes.GET_QUESTION,\n\t\tid: nxtQsn\n\t}\n}\n\n\nexport const getQuestion = (nxtQsn) => {\n\treturn dispatch => {\n\t\tdispatch(getQuesn(nxtQsn));\n\t}\n}\n\n\nexport const turnOnGame = () => {\n\treturn {\n\t\ttype: actionTypes.START_GAME\n\t}\n}\n\n\nexport const startGame = () => {\n\treturn dispatch => {\n\t\tdispatch(turnOnGame());\n\t}\n}\n\n\nexport const incAttmpt = (isMissed, currentQuestion, userAnswer) => {\n\treturn {\n\t\ttype: actionTypes.INCREMENT_ATTEMPT,\n\t\tmissed: isMissed,\n\t\tcurrentQuestion: currentQuestion,\n\t\tuserAnswer: userAnswer\n\t}\n}\n\nexport const incrementAttempt = (isMissed, currentQuestion, userAnswer) => {\n\treturn dispatch => {\n\t\tdispatch(incAttmpt(isMissed, currentQuestion, userAnswer));\n\t}\n}\n\n\nexport const incAdvAttmpt = (isMissed, currentQuestion, userAnswer,is_correct) => {\n\treturn {\n\t\ttype: actionTypes.INCREMENT_ADV_ATTEMPT,\n\t\tmissed: isMissed,\n\t\tcurrentQuestion: currentQuestion,\n\t\tuserAnswer: userAnswer,\n\t\tis_correct: is_correct\n\t}\n}\n\n\nexport const celebratedOnFunc = (currentQuestion) => {\n\treturn {\n\t\ttype: actionTypes.CELEBRATED_ON,\n\t\tcurrentQuestion: currentQuestion,\n\t}\n}\n\n\nexport const celebratedOn = (currentQuestion) => {\n\treturn dispatch => {\n\t\tdispatch(celebratedOnFunc(currentQuestion));\n\t}\n}\n\n\n\nexport const incrementAdvAttempt = (isMissed, currentQuestion, userAnswer, is_correct) => {\n\treturn dispatch => {\n\t\tdispatch(incAdvAttmpt(isMissed, currentQuestion, userAnswer, is_correct));\n\t}\n}\n\n\nexport const finishGameFunc = () => {\n\treturn {\n\t\ttype: actionTypes.FINISH_GAME\n\t}\n}\n\n\nexport const finishGame = () => {\n\treturn dispatch => {\n\t\tdispatch(finishGameFunc());\n\t}\n}\n\n\nexport const restartGameFunc = () => {\n\treturn {\n\t\ttype: actionTypes.RESTART_GAME\n\t}\n}\n\nexport const restartGame = () => {\n\treturn dispatch => {\n\t\tdispatch(restartGameFunc());\n\t}\n}\n\n\n\nexport const dragCardFunc = (isDragging, lastDraggedCard) => {\n\treturn {\n\t\ttype: actionTypes.DRAG_CARD,\n\t\tisDragging: isDragging,\n\t\tlastDraggedCard: lastDraggedCard,\n\t}\n}\n\nexport const dragCard = (isDragging, lastDraggedCard) => {\n\treturn dispatch => {\n\t\tdispatch(dragCardFunc(isDragging, lastDraggedCard));\n\t}\n}\n\n\nexport const updateSwipeFunc = (swipeObj) => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_SWIPE_OBJECT,\n\t\tswipeObj: swipeObj,\n\t}\n}\n\nexport const updateSwipe = (swipeObj) => {\n\treturn dispatch => {\n\t\tdispatch(updateSwipeFunc(swipeObj));\n\t}\n}\n\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://dev-tbl8.pantheonsite.io/apis/quiz/'\n});\n\nexport default instance;\n\n","import React from 'react';\nimport classes from './Button.module.scss';\n\nconst button = (props) => (\n\t<button \n\t\tclassName={[classes.Button, classes[props.btnType]].join(' ')}\n\t\tonClick={props.clicked} disabled={props.disabled}>{props.children}</button>\n\t);\n\n\nexport default button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Ajf-\",\"Play\":\"Button_Play__1C743\",\"PulseBtn\":\"Button_PulseBtn__2bUzW\",\"pulse\":\"Button_pulse__3NZBm\",\"Danger\":\"Button_Danger__2nfno\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__Avhg6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResultScreen\":\"ResultScreen_ResultScreen__1FgZ6\",\"IEScreen\":\"ResultScreen_IEScreen__3V3na\",\"Invisible\":\"ResultScreen_Invisible__BS5fe\",\"ModeChanger\":\"ResultScreen_ModeChanger__UYQAI\",\"On\":\"ResultScreen_On__17UN-\",\"LastBtn\":\"ResultScreen_LastBtn__QQk6x\"};","import React from 'react';\nimport classes from './Backdrop.module.scss';\n\nconst backdrop = (props) => (\n\tprops.show ? <div className={classes.Backdrop} onClick={props.clicked}></div> : null\n);\n\nexport default backdrop;","import React, { useEffect } from 'react';\n\nimport classes from './Modal.module.scss';\nimport Aux from '../../hoc/Aux/Aux';\nimport Backdrop from '../Backdrop/Backdrop';\n\nconst Modal = props => {\n/*\n\tshouldComponentUpdate(nextProps, nextState){\n\t\treturn nextProps.show !== props.show || nextProps.children !== props.children;\n\t}\n*/\n\n\treturn (\n\t\t\t<Aux>\n\t\t\t\t<Backdrop show={props.show} clicked={props.modalClosed} />\n\t\t\t\t<div \n\t\t\t\t\tclassName={classes.Modal}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttransform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\n\t\t\t\t\t\topacity: props.show ? '1' : '0',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t</Aux>\n\t);\n\n}\n\nexport default React.memo(\n\tModal, \n\t(prevProps, nextProps) => \n\tnextProps.show === prevProps.show && nextProps.children === prevProps.children\n);","import React, { useState, useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {isIE} from \"react-device-detect\";\n\nimport * as quizBuilderActions from '../../store/actions/index';\nimport Button from '../../components/UI/Button/Button';\nimport Modal from '../../components/Modal/Modal';\nimport * as quizActions from '../../store/actions/index';\nimport { minsecTextFormat } from '../../shared/utility';\nimport Aux from '../../hoc/Aux/Aux';\n\nimport classes from './ResultScreen.module.scss';\n\n\nconst ResultScreen = props => {\n\t\n\t\n\tconst [switchClass, setSwitchClass] = useState([classes.ModeChanger]);\n\tconst dispatch = useDispatch();\n\tconst [congratsText, setCongratsText] = useState(['Very Nice']);\n\tconst [showVid, setShowVid] = useState(false);\n\tconst [videoContent, setVideoContent] = useState('');\n\n\tconst starttime =  useSelector( state => {\n\t\treturn state.quizBuilder.starttime;\n\t});\n\n\tconst endtime =  useSelector( state => {\n\t\treturn state.quizBuilder.endtime;\n\t});\n\n\tconst missed =  useSelector( state => {\n\t\treturn state.quizBuilder.missed;\n\t});\n\n\tconst isAdvanced =  useSelector( state => {\n\t\treturn state.quizBuilder.isAdvanced;\n\t});\n\n\tconst onGameFinish = useCallback(() => dispatch(quizBuilderActions.finishGame()), []);\n\t\n\tuseEffect(() => {\n\t\tonGameFinish();\n\t},[onGameFinish]);\n\n\tuseEffect(()=>{\n\t\tif(isAdvanced)\n\t\t{\n\t\t\tsetSwitchClass([classes.ModeChanger, classes.On]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsetSwitchClass([classes.ModeChanger]);\n\t\t}\n\n\t\tvar percentage = 0;\n\n\t\tif(isAdvanced)\n\t\t{\n\t\t\tpercentage = 100*(10 - +missed)/10;\n\t\t}\t\n\t\telse\n\t\t{\n\t\t\tpercentage = 100*(5 - +missed)/5;\n\t\t}\n\n\t\t\n\t\tif(percentage >= 95)\n\t\t{\n\t\t\tsetCongratsText('Exceptional Job');\t\n\t\t}\n\t\telse if(percentage >= 80 && percentage < 95)\n\t\t{\n\t\t\tsetCongratsText('Very Nice');\n\t\t}\n\t\telse if(percentage < 80 && percentage >= 50)\n\t\t{\n\t\t\tsetCongratsText('You can do better');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsetCongratsText('Keep Trying')\n\t\t}\n\n\t}, [isAdvanced, missed]);\n\n\tconst toggleAdvancedMode = () => {\n\t\t\n\t\tif(isAdvanced)\n\t\t{\n\t\t\tsetSwitchClass([classes.ModeChanger, classes.On]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsetSwitchClass([classes.ModeChanger]);\n\t\t}\n\n\t\tdispatch(quizActions.advancedMode());\n\n\t};\n\n\tconst reStartHandler = () => {\n\t\tprops.history.push({\n\t\t\tpathname: '/'\n\t\t});\n\t};\n\n\tconst playHandler = (event) => {\n\t\tshowPopup(event, 'https://player.vimeo.com/video/458216514?width=640&height=480&iframe=true&autoplay=1?autoplay=1');\n\t};\n\n\tconst closePopup = () => {\n\t\tsetShowVid(false);\n\t\tsetVideoContent('');\n\t}\n\n\tconst showPopup = (event, videoUrl) => {\n\t\tevent.preventDefault();\n\t\tsetShowVid(true);\n\t\tsetVideoContent(videoUrl);\n\t}\n\n\n\treturn (\n\t\t<Aux>\n\t\t\t<div className={isIE ? [classes.ResultScreen, classes.IEScreen ].join(' ') : classes.ResultScreen}>\n\t\t\t\t<h1>{congratsText}</h1>\n\t\t\t\t<p>You missed {missed} items in {minsecTextFormat(Math.floor((endtime-starttime)/1000))}. Watch the video below if you would like a refresher.</p>\n\t\t\t\t<Button btnType=\"Play\" clicked={(event)=>showPopup(event, 'https://player.vimeo.com/video/458216514?width=640&height=480&iframe=true&autoplay=1?autoplay=1')}>5G Explained</Button>\n\t\t\t\t<div className={classes.Invisible}>\n\t\t\t\t\t<div className={switchClass.join(' ')} onClick={toggleAdvancedMode}>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h3>Advanced Mode: {isAdvanced ? 'ON' : 'OFF' }</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.LastBtn}>\n\t\t\t\t\t<Button btnType=\"Success\" clicked={reStartHandler}>Play Again</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Modal show={showVid} modalClosed={closePopup}>\n\t\t\t\t\t<iframe \n\t\t\t\t\t\tsrc={videoContent}\n\t\t\t\t\t\tallow=\"autoplay; fullscreen\" \n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t\tclassName={classes.IframeClass} \n\t\t\t\t\t\tframeBorder=\"0\">\n\t\t\t\t\t</iframe>\n\t\t\t</Modal>\n\t\t</Aux>\n\t);\n\n};\n\nexport default ResultScreen;"],"sourceRoot":""}